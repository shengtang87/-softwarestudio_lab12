window.__require=function e(t,n,o){function i(s,a){if(!n[s]){if(!t[s]){var r=s.split("/");if(r=r[r.length-1],!t[r]){var l="function"==typeof __require&&__require;if(!a&&l)return l(r,!0);if(c)return c(r,!0);throw new Error("Cannot find module '"+s+"'")}s=r}var p=n[s]={exports:{}};t[s][0].call(p.exports,function(e){return i(t[s][1][e]||e)},p,p.exports,e,t,n,o)}return n[s].exports}for(var c="function"==typeof __require&&__require,s=0;s<o.length;s++)i(o[s]);return i}({Bullet:[function(e,t,n){"use strict";cc._RF.push(t,"aeed19u5/dFi79jdO9lf9Vj","Bullet"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,c=(o.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.anim=null,t.bulletManager=null,t.isTriggered=!1,t}return __extends(t,e),t.prototype.init=function(e){this.anim=this.getComponent(cc.Animation),this.setInitPos(e),this.anim.play("bullet")},t.prototype.reuse=function(e){this.bulletManager=e,this.isTriggered=!1},t.prototype.setInitPos=function(e){this.node.parent=e.parent,e.scaleX>0?(this.node.position=cc.v2(62,8),this.node.scaleX=1):(this.node.position=cc.v2(-62,8),this.node.scaleX=-1),this.node.position=this.node.position.addSelf(e.position)},t.prototype.bulletMove=function(){var e,t=this;e=this.node.scaleX>0?cc.moveBy(.8,300,0):cc.moveBy(.8,-300,0);var n=cc.callFunc(function(){t.bulletManager.put(t.node)});this.scheduleOnce(function(){t.node.runAction(cc.sequence(e,n))})},t.prototype.onBeginContact=function(){var e=this;this.node.stopAllActions(),this.unscheduleAllCallbacks(),this.scheduleOnce(function(){e.anim.stop(),e.bulletManager.put(e.node)},.1)},__decorate([i],t)}(cc.Component));n.default=c,cc._RF.pop()},{}],Player:[function(e,t,n){"use strict";cc._RF.push(t,"a7b801wuUdCc4tfD8dqSgRX","Player"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./score"),i=cc._decorator,c=i.ccclass,s=i.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.anim=null,t.animateState=null,t.bulletPrefab=null,t.score=null,t.bulletPool=null,t.playerSpeed=0,t.zDown=!1,t.xDown=!1,t.jDown=!1,t.kDown=!1,t.onGround=!1,t.isDead=!0,t}return __extends(t,e),t.prototype.onLoad=function(){this.anim=this.getComponent(cc.Animation),cc.director.getCollisionManager().enabled=!0,cc.director.getPhysicsManager().enabled=!0,this.bulletPool=new cc.NodePool("Bullet");for(var e=0;e<5;e++){var t=cc.instantiate(this.bulletPrefab);this.bulletPool.put(t)}},t.prototype.start=function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},t.prototype.update=function(e){this.playerMovement(e),this.playerAnimation()},t.prototype.onKeyDown=function(e){switch(e.keyCode){case cc.macro.KEY.z:this.zDown=!0,this.xDown=!1;break;case cc.macro.KEY.x:this.xDown=!0,this.zDown=!1;break;case cc.macro.KEY.j:this.jDown=!0;break;case cc.macro.KEY.k:this.kDown=!0}},t.prototype.onKeyUp=function(e){switch(e.keyCode){case cc.macro.KEY.z:this.zDown=!1;break;case cc.macro.KEY.x:this.xDown=!1;break;case cc.macro.KEY.j:this.jDown=!1;break;case cc.macro.KEY.k:this.kDown=!1}},t.prototype.playerMovement=function(e){this.isDead?this.playerSpeed=0:this.jDown||this.anim.getAnimationState("shoot").isPlaying?this.playerSpeed=0:this.zDown?this.playerSpeed=-300:this.xDown?this.playerSpeed=300:this.playerSpeed=0,this.node.x+=this.playerSpeed*e},t.prototype.playerAnimation=function(){this.node.scaleX=this.zDown?-1:this.xDown?1:this.node.scaleX,this.isDead?null!=this.animateState&&"reborn"==this.animateState.name||(this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,0),this.node.setPosition(-192,255),this.animateState=this.anim.play("reborn"),this.score.resetScore()):this.anim.getAnimationState("shoot").isPlaying||this.anim.getAnimationState("jump").isPlaying||!this.onGround||(this.jDown?this.animateState=this.anim.play("shoot"):this.kDown?(this.animateState=this.anim.play("jump"),this.jump()):this.zDown||this.xDown?null!=this.animateState&&"move"==this.animateState.name||(this.animateState=this.anim.play("move")):null!=this.animateState&&"idle"==this.animateState.name||(this.animateState=this.anim.play("idle")))},t.prototype.jump=function(){this.onGround=!1,this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,1500)},t.prototype.createBullet=function(){var e=null;this.bulletPool.size()>0&&(e=this.bulletPool.get(this.bulletPool)),null!=e&&e.getComponent("Bullet").init(this.node)},t.prototype.onBeginContact=function(e,t,n){2!=n.tag||this.isDead||(this.isDead=!0),1==n.tag&&(this.anim.getAnimationState("jump").isPlaying||(this.onGround=!0))},t.prototype.reborn=function(){this.isDead=!1},__decorate([s(cc.Prefab)],t.prototype,"bulletPrefab",void 0),__decorate([s(o.default)],t.prototype,"score",void 0),__decorate([c],t)}(cc.Component);n.default=a,cc._RF.pop()},{"./score":"score"}],enemyManager:[function(e,t,n){"use strict";cc._RF.push(t,"0b908C7+d1JmJPcFSBmVdWn","enemyManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,c=o.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enemyPrefab=null,t.enemyPool=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.enemyPool=new cc.NodePool("enemy");for(var e=0;e<3;e++){var t=cc.instantiate(this.enemyPrefab);this.enemyPool.put(t)}this.schedule(this.createEnemy,.5)},t.prototype.createEnemy=function(){var e=null;this.enemyPool.size()>0&&(e=this.enemyPool.get(this.enemyPool)),null!=e&&e.getComponent("enemy").init(this.node)},__decorate([c(cc.Prefab)],t.prototype,"enemyPrefab",void 0),__decorate([i],t)}(cc.Component);n.default=s,cc._RF.pop()},{}],enemy:[function(e,t,n){"use strict";cc._RF.push(t,"e1c1fPVN7pBQYc0iyx79lLb","enemy"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./score"),i=cc._decorator,c=i.ccclass,s=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.score=null,t.anim=null,t.collider=null,t.enemyManager=null,t.enemySpeed=0,t}return __extends(t,e),t.prototype.init=function(e){this.score=cc.find("Canvas/score").getComponent(o.default),this.anim=this.getComponent(cc.Animation),this.collider=this.getComponent(cc.PhysicsBoxCollider),this.node.opacity=255,this.setInitPos(e),this.anim.play("enemy")},t.prototype.reuse=function(e){this.enemyManager=e},t.prototype.setInitPos=function(e){this.node.parent=e,Math.random()>.5?(this.node.position=cc.v2(600,-110),this.node.scaleX=1,this.enemySpeed=-200,this.collider.enabled=!0,this.collider.offset=cc.v2(20,0),this.collider.apply()):(this.node.position=cc.v2(-600,-110),this.node.scaleX=-1,this.enemySpeed=200,this.collider.enabled=!0,this.collider.offset=cc.v2(-20,0),this.collider.apply())},t.prototype.boundingDetect=function(){(this.node.x>650||this.node.x<-650)&&this.enemyManager.put(this.node)},t.prototype.deadEffect=function(){var e=this;this.enemySpeed=0,this.collider.enabled=!1;var t=cc.fadeOut(1),n=cc.callFunc(function(){e.enemyManager.put(e.node)});this.node.runAction(cc.sequence(t,n))},t.prototype.update=function(e){this.node.x+=this.enemySpeed*e,this.boundingDetect()},t.prototype.onBeginContact=function(e,t,n){"bullet"!=n.node.name||n.node.getComponent("Bullet").isTriggered||(n.node.getComponent("Bullet").isTriggered=!0,this.score.addOnePoint(),this.anim.stop(),this.deadEffect())},__decorate([c],t)}(cc.Component));n.default=s,cc._RF.pop()},{"./score":"score"}],score:[function(e,t,n){"use strict";cc._RF.push(t,"906760NAB1JXK11rok+U9Ds","score"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,c=(o.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=0,t}return __extends(t,e),t.prototype.onLoad=function(){this.resetScore()},t.prototype.resetScore=function(){this.value=0,this.node.getComponent(cc.Label).string="Score: 0"},t.prototype.addOnePoint=function(){this.value++,this.node.getComponent(cc.Label).string="Score: "+this.value.toString()},__decorate([i],t)}(cc.Component));n.default=c,cc._RF.pop()},{}],use_reversed_rotateTo:[function(e,t){"use strict";cc._RF.push(t,"78d6cG5oG5FeZNWVyqElyEQ","use_reversed_rotateTo"),cc.RotateTo._reverse=!0,cc._RF.pop()},{}]},{},["Bullet","Player","enemy","enemyManager","score","use_reversed_rotateTo"]);